     1                                  bits 32 
     2                                  global start      
     3                                  
     4                                  ;A sentence is read from the keyboard. To be counted the letters from every word and to be prented on the screen
     5                                  
     6                                  extern printf, gets, exit
     7                                  
     8                                  import printf msvcrt.dll
     9                                  import gets msvcrt.dll
    10                                  import exit msvcrt.dll
    11                                  
    12                                  segment data use32 class=data
    13 00000000 <res 00000064>              sentence resb 100
    14 00000064 25642000                    format db "%d ", 0
    15                                  
    17                                  segment code use32 class=code
    18                                  start:
    19                                      ;read a sentence from the keyboard
    20 00000000 68[00000000]                push sentence
    21 00000005 FF15[00000000]              call [gets]
    22 0000000B 83C404                      add esp, 4
    23                                      
    24 0000000E BE[00000000]                mov esi, sentence
    25                                      ;count the letters from every word
    26                                      while_sentence:
    27 00000013 B900000000                      mov ecx, 0  ;storing the number of letters from the current word
    28                                          while_word:
    29                                              ;if the current character is the end of the sentence, then the sentence is finished
    30 00000018 803E00                              cmp byte [esi], 0
    31 0000001B 7409                                je end_word
    32                                              ;if the current character is a space, then the word is finished
    33 0000001D 803E20                              cmp byte [esi], ' '
    34 00000020 7404                                je end_word
    35                                              
    36 00000022 41                                  inc ecx     ;count the letters from the word
    37 00000023 46                                  inc esi     ;go to the next character
    38                                  
    39 00000024 EBF2                                jmp while_word
    40                                          end_word:
    41                                  
    42                                          ;printing ecx on the screen
    43                                          ;printf("%d ", ecx)
    44 00000026 51                              push ecx
    45 00000027 68[64000000]                    push format
    46 0000002C FF15[00000000]                  call [printf]
    47 00000032 83C408                          add esp, 8
    48                                  
    49                                  
    50                                          ;go to the next word
    51                                          while_space:
    52                                              ;if the current character is the end of the sentence, then the sentence is finished
    53 00000035 803E00                              cmp byte [esi], 0
    54 00000038 740A                                je end_sentence
    55                                              ;if the current character is not a space, then the word is finished
    56 0000003A 803E20                              cmp byte [esi], ' '
    57 0000003D 7503                                jne end_space
    58                                  
    59 0000003F 46                                  inc esi     ;go to the next character
    60                                  
    61 00000040 EBF3                                jmp while_space
    62                                          end_space:
    63                                  
    64 00000042 EBCF                        jmp while_sentence
    65                                  
    66                                      end_sentence:
    67                                  
    68                                      ;exiting
    69 00000044 6A00                        push 0
    70 00000046 FF15[00000000]              call [exit]
    71                                  
    72                                      
